import os

Import('env')
Import('config')

def boost_lib(*name):
    if "thread" in name and "date_time" not in name:
        name.append("date_time")
    return ["boost_" + n + config.get('boost_lib_suffix', '') for n in name]

PROGNAME = 'mp4frag'

env.Program(PROGNAME, [ 'mp4frag.cc', 'mp4.cc', 'base64.cc' ], 
            LIBS = boost_lib('program_options', 'system'))

prefix = os.path.join(config.get('prefix', '.'), 'bin')
env.Install(prefix, [PROGNAME])
env.Alias('install', prefix)
